<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Service Status & Sentiment Predictor</title>
    <link rel="stylesheet" href="/public/semantic.css" />
    <link rel="stylesheet" href="/public/custom.css" />

    <script type="text/javascript" src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-2.2.4.min.js"></script>
    <!--<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular.min.js"></script>-->
    <script type="text/javascript" src="/public/semantic.min.js"></script>
    <script type="text/javascript" src="/public/echarts.min.js"></script>
    <script type="text/javascript" src="/public/echarts-wordcloud.min.js"></script>
</head>

<body>
    <!--********-->
    <!--Top Menu-->
    <!--********-->
    <div class="ui top menu">
        <div class="ui container">
            <div class="header item">
                <!--<img class="logo" src="assets/images/logo.png">-->
                S3P - This is a cool project ...
            </div>
            <div class="menu right">
                <a href="/" class="item">Who am I</a>
                <a href="social.html" class="item active">Social Community</a>
                <a href="#" class="item">StackExchange</a>
                <a href="#" class="item">MSDN/TN Fourms</a>

                <div class="right item ui label simple dropdown">
                    <!--<a class="item ui dropdown">-->
                    <img class="ui mini circular image avator right spaced" src="public/images/patrick.png">
                    <div class="content">
                        <div class="ui sub header">Fawad</div>
                    </div>
                    <i class="dropdown icon"></i>
                    <div class="menu">
                        <a class="item">Profile</a>
                        <a class="item">Subscription</a>
                        <a class="item">Sign out</a>
                    </div>
                    <!--</a>-->
                </div>
            </div>
        </div>


    </div>



    <!--********-->
    <!--contain body-->
    <!--********-->
    <div class="ui container">
        <div class="ui segment">
            <div class="ui fields" style="display: inline;">
                <div class="ui red horizontal label">UTC</div>
                <div class="field ui mini input">
                    <input type="text" placeholder="start time" value="2016-08-16">
                </div>
                <div class="field ui mini input">
                    <input type="text" placeholder="end time" value="2016-08-18">
                </div>
            </div>
            <select class="ui small dropdown " style="">
                <option value="azure">Azure</option>
                <option value="powerbi">Power BI</option>
                <option value="azure-linux">Azure Linux</option>
            </select>
        </div>
    </div>
    <div class="ui hidden divider"></div>
    <div class="ui container">
        <div id="main" class="ui segment">
            <!--<div class="ui horizontal divider"></div>-->
            <!--do you know content-->
            <h4 class="ui center aligned header">
                Impact Summary from S3P
            </h4>
            <!--charts-->
            <!--<div class="ui segment">-->
            <div class="ui three column grid">
                <div class="column">
                    <div class="ui segment center aligned">
                        <div class="ui top attached label">Community Users</div>
                        <div class="row">
                            <div class="ui statistic">
                                <div class="label">
                                    Users Joined Discussion
                                </div>
                                <div class="value">
                                    3543
                                </div>
                                <div class="mini label">
                                    <i class="long arrow up icon green"></i>12% Compared with Last Week
                                    <br />
                                    <i class="icon red">9</i> Vol Spike Detected (hourly)
                                </div>
                            </div>
                        </div>
                        <div class="ui fitted divider"></div>
                        <div class="row">
                            <div class="ui statistic">
                                <div class="label">
                                    Regions of Users
                                </div>
                                <div class="value">
                                    43
                                </div>
                                <div class="mini label">
                                    <i class="long arrow up icon red" ></i>1.2% Compared with Last Week
                                    <br />
                                    <i class="icon red">9</i> Vol Spike Detected (hourly)
                                </div>
                            </div>
                        </div>
                        <div class="ui fitted divider"></div>
                        <div class="row">
                            <div class="ui statistic">
                                <div class="label">
                                    Influence of Users(page Views)
                                </div>
                                <div class="value">
                                    45476
                                </div>
                                <div class="mini label">
                                    <i class="long arrow up icon green" ></i>32% Compared with Last Week
                                    <br />
                                    <i class="icon red">9</i> Vol Spike Detected (hourly)
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="column">
                    <div class="ui segment center aligned">
                        <div class="ui top attached label">Product Status</div>
                        <div class="row">
                            <div class="ui statistic">
                                <div class="label">
                                    Services be Discussed
                                </div>
                                <div class="value">
                                    18
                                </div>
                                <div class="mini label">
                                    <i class="long arrow up icon green"></i>4 Compared with Last Week
                                    <br />
                                    <label>&nbsp;</label>
                                </div>
                            </div>
                        </div>
                        <div class="ui fitted divider"></div>
                        <div class="row">
                            <div class="ui statistic">
                                <div class="label">
                                    Mentioned Most Service
                                </div>
                                <div class="value">
                                    AzureAD
                                </div>
                                <div class="mini label">
                                    <label class="ui green" style="margin-right:20px">AAD(10%), Azure Web App(9%), VM(8%)</label>
                                    <br />
                                    <label>&nbsp;</label>
                                </div>
                            </div>
                        </div>
                        <div class="ui fitted divider"></div>
                        <div class="row">
                            <div class="ui statistic">
                                <div class="label">
                                    Loved Most Service <i class="popup small link help icon" data-content="Receievd hightest Ratio of positive posts" data-variation="mini inverted"></i>
                                </div>
                                <div class="value">
                                    Web App
                                </div>
                                <div class="mini label">
                                    <label class="green" style="margin-right:20px">Azure Web App (69%), VM(58%) ,AAD</label>
                                    <br />
                                    <label>&nbsp;</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="column">
                    <div class="ui segment center aligned">
                        <div class="ui top attached label">Voc Insights</div>
                        <div class="row">
                            <div class="ui statistic">
                                <div class="label">
                                    Message Posts
                                </div>
                                <div class="value">
                                    98736
                                </div>
                                <div class="mini label">
                                    <i class="long arrow up icon green"></i>12% Compared with Last Week
                                    <br />
                                    <i class="icon red">9</i> Vol Spike Detected (hourly)
                                </div>
                            </div>
                        </div>
                        <div class="ui fitted divider"></div>
                        <div class="row">
                            <div class="ui statistic">
                                <div class="label">
                                    Sentiment of Messages (POSI:NEG)
                                </div>
                                <div class="value">
                                    1390:323
                                </div>
                                <div class="mini label">
                                    <i class="icon green">21</i> POSI Vol Spike Detected (hourly)
                                    <br />
                                    <i class="icon red">9</i> NEG Vol Spike Detected (hourly)
                                </div>
                            </div>
                        </div>
                        <div class="ui fitted divider"></div>
                        <div class="row">
                            <div class="ui statistic">
                                <div class="label">
                                    Influence of Sentiment <i class="popup small link help icon" data-content="Page Views - POST : NEG" data-variation="mini inverted"></i>
                                </div>
                                <div class="value">
                                    20121:32101
                                </div>
                                <div class="mini label">
                                    Most POSI From <label class="green">USA</label>
                                    <br />
                                    Most NEG From <label class="red">Tokyo</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--</div>-->
            <div id="menu" class="left attached ui rail" style="padding-right:0 !important;">
                <div class="ui sticky" style="position:relative;right: -200px; z-index: -1;">
                    <div class="ui vertical mini menu">
                        <a class="active item">Twitter</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script type="text/javascript" src="/src/semantic-init.js"></script>
    <script>
        $('#menu')
            .sticky({
                context: '#main'
            });
        $('.popup').popup();
        $.get("users_card.html", function(data) {
            $("#users_card").html(data + data + data + data + data + data);
            initBarCharts('.UGCSpicks');
            initBarCharts('.bar1');
            $('.shape').shape({
                duration: '100ms'
            });

            initPieCharts();
        })
        initCloudWordChart();
        initHoriBarChart();


        function chartResize(shapeId) {
            // console.log($("#"+shapeId+" div.active").next().find('.bar1>div'))
            // $($("#"+shapeId+" div.active").next().find('.bar1>div').get(0)).width('100%')
            // console.log($("#"+shapeId+" div.active").next().find('.bar1>div').get(0))
            var doms = $($("#" + shapeId + " div.active").next().find('.bar1'));
            echarts.getInstanceByDom(doms.get(0)).resize();
        }

        function initBarCharts(className) {
            var doms = $(className);
            var title = 'Last Week Twitter UGC Spikes Detected';
            if (className == '.bar1') title = 'Customer Reach (PV) in twiiter';
            for (var i = 0; i < doms.length; i++) {
                var myChart = echarts.init(doms.get(i));
                // 绘制图表
                myChart.setOption({
                    title: {
                        text: title,
                        textStyle: {
                            fontSize: 12
                        },
                        x: 'center'
                    },
                    tooltip: {
                        trigger: 'axis',
                        axisPointer: { // 坐标轴指示器，坐标轴触发有效
                            type: 'shadow' // 默认为直线，可选为：'line' | 'shadow'
                        }
                    },
                    xAxis: {
                        type: 'category',
                        data: ["08-16", "08-17", "08-18", "08-19", "08-20", "08-21", "08-22"]
                    },
                    yAxis: {},
                    series: [{
                        name: 'Vol',
                        type: 'bar',
                        data: rangeData(7, 10)
                    }]
                });
            }
        }

        function initHoriBarChart() {
            var doms = $('.bar2');
            for (var i = 0; i < doms.length; i++) {
                var myChart = echarts.init(doms.get(i));
                // 绘制图表
                myChart.setOption({
                    title: {
                        text: 'Customer Reach (PV)',
                        textStyle: {
                            fontSize: 12
                        },
                        x: 'center'
                    },
                    grid: {
                        containLabel: true
                    },
                    tooltip: {
                        trigger: 'axis',
                        axisPointer: { // 坐标轴指示器，坐标轴触发有效
                            type: 'shadow' // 默认为直线，可选为：'line' | 'shadow'
                        }
                    },
                    yAxis: {
                        type: 'category',
                        data: ['twitter', 'StackOver Flow', 'Super User', 'Server Fault', 'Power BI', 'MSND', 'TN']
                    },
                    xAxis: {
                        type: 'value'
                    },
                    series: [{
                        name: 'Vol',
                        type: 'bar',
                        data: rangeData(6, 100)
                    }]
                });
            }
        }

        function rangeData(num, radix) {
            var radix = radix || 10;
            if (parseInt(num) == 1) {
                return parseInt(Math.random() * radix)
            } else {
                var tmp = [];
                for (var i = 0; i < num; i++) {
                    tmp.push(parseInt(Math.random() * radix))
                }
                return tmp;
            }
        }

        function initPieCharts() {
            var doms = $('.PNDPie');
            for (var i = 0; i < doms.length; i++) {
                var myChart = echarts.init(doms.get(i));
                // 绘制图表
                myChart.setOption({
                    title: {
                        text: 'Last Week POSI / NEG Distributions',
                        textStyle: {
                            fontSize: 12
                        },
                        x: 'center'
                    },
                    tooltip: {
                        trigger: 'item',
                        formatter: "{b} : {c} ({d}%)"
                    },
                    series: [{
                        name: '',
                        type: 'pie',
                        data: [{
                            value: 1024,
                            name: 'POSI',
                            itemStyle: {
                                normal: {
                                    color: '#91c7ae'
                                }
                            }
                        }, {
                            value: 233,
                            name: 'NEG'
                        }]
                    }]
                });
            }
        }

        function initCloudWordChart() {
            var doms = $('.cloudword');
            for (var i = 0; i < doms.length; i++) {
                var myChart = echarts.init(doms.get(i));
                // 绘制图表
                myChart.setOption({
                    // title: {
                    //     text: 'POSI mentioned most',
                    //     textStyle: {},
                    //     backgroundColor: "#ccc",
                    //     x: 'center'
                    // },
                    series: [{
                        type: 'wordCloud',
                        gridSize: 2,
                        sizeRange: [12, 50],
                        rotationRange: [-90, 90],
                        shape: 'pentagon',
                        width: 600,
                        height: 400,
                        textStyle: {
                            normal: {
                                color: function() {
                                    return 'rgb(' + [
                                        Math.round(Math.random() * 160),
                                        Math.round(Math.random() * 160),
                                        Math.round(Math.random() * 160)
                                    ].join(',') + ')';
                                }
                            },
                            emphasis: {
                                shadowBlur: 10,
                                shadowColor: '#333'
                            }
                        },
                        data: [{
                            name: 'Sam S Club',
                            value: 10000,
                            textStyle: {
                                normal: {
                                    color: 'black'
                                },
                                emphasis: {
                                    color: 'red'
                                }
                            }
                        }, {
                            name: 'Macys',
                            value: 6181
                        }, {
                            name: 'Amy Schumer',
                            value: 4386
                        }, {
                            name: 'Jurassic World',
                            value: 4055
                        }, {
                            name: 'Charter Communications',
                            value: 2467
                        }, {
                            name: 'Chick Fil A',
                            value: 2244
                        }, {
                            name: 'Planet Fitness',
                            value: 1898
                        }, {
                            name: 'Pitch Perfect',
                            value: 1484
                        }, {
                            name: 'Express',
                            value: 1112
                        }, {
                            name: 'Home',
                            value: 965
                        }, {
                            name: 'Johnny Depp',
                            value: 847
                        }, {
                            name: 'Lena Dunham',
                            value: 582
                        }, {
                            name: 'Lewis Hamilton',
                            value: 555
                        }, {
                            name: 'KXAN',
                            value: 550
                        }, {
                            name: 'Mary Ellen Mark',
                            value: 462
                        }, {
                            name: 'Farrah Abraham',
                            value: 366
                        }, {
                            name: 'Rita Ora',
                            value: 360
                        }, {
                            name: 'Serena Williams',
                            value: 282
                        }, {
                            name: 'NCAA baseball tournament',
                            value: 273
                        }, {
                            name: 'Point Break',
                            value: 265
                        }]
                    }]
                })
            }
        }
    </script>
</body>

</html>